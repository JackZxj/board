# this is an example of the Uber API
# as a demonstration of an API spec in YAML
swagger: '2.0'
info:
  title: Board Token Service API
  description: These APIs provide token service for Board project.
  version: "0.1.0"
# the domain of the service
host: localhost:4000
# array of all schemes that your API supports
schemes:
  - http
basePath: /api
produces:
  - application/json
  - text/plain
consumes:
  - text/plain
  - application/json
paths:
  /v1/token:
    post:
      summary: Get JWT token from service.
      description: |
        The Token endpoint returns JWT token for registered user. The response is JWT format (https://jwt.io/).
      parameters:
        - name: user
          in: body
          description: Registered user.
          required: true
          schema:
            $ref: '#/definitions/UserDetail'
      tags:
        - Products
      responses:
        200:
          description: JWT Token.
          schema:
            $ref: '#/definitions/Token'
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Unexpected internal errors.
# The following is for structure definition          
definitions:
  UserDetail:
    type: object
    properties:
      user_id:
        type: integer
        format: int32
        description: The integer ID of this user.
      user_name:
        type: string
      user_email:
        type: string
      user_password:
        type: string
      user_realname:
        type: string
      user_comment:
        type: string
      user_deleted:
        type: integer
        format: int32
      user_system_admin:
        type: integer 
        format: int32
        description: The flag to indicate the role, 1 for system admin, 0 for not project admin
      user_project_admin:
        type: integer 
        format: int32
        description: The flag to indicate the role, 1 for project admin, 0 for not project admin
      user_reset_uuid:
        type: string
      user_salt:
        type: string
      user_creation_time:
        type: string
      user_update_time:
        type: string
  Token:
    type: object
    description: The token for Board system.
    properties:
      token:
        type: string
        description: The JWT format token.