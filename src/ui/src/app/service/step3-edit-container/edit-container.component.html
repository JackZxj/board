<div class="edit-container-container">
  <div class="edit-container-one-container" *ngFor="let container of uiData.containerList;let iStep3 = index">
    <div class="edit-container-item-container" (click)="toggleShowStatus(container)">
      <div class="edit-container-item-icon-container"
           [ngClass]="{'icon-close':step3TypeStatus.get(container),'icon-open':!step3TypeStatus.get(container)}">
        <clr-icon shape="caret up" class="item-icon"></clr-icon>
      </div>
      <span class="edit-container-title base-margin-left">{{container.name}}:</span>
    </div>
    <div [hidden]="!step3TypeStatus.get(container)" class="edit-container-filed-container">
      <cs-input [inputLabel]="'SERVICE.STEP_3_CONTAINER_NAME' | translate"
                [inputIsRequired]="true"
                [inputPattern]="patternContainerName"
                [simpleFiled]="container.name"
                (onCheck)="container.name = $event"></cs-input>
      <cs-input [inputLabel]="'SERVICE.STEP_3_WORKING_DIR' | translate"
                [inputPattern]="patternWorkdir"
                [simpleFiled]="container.working_dir"
                [inputPlaceholder]="'/usr/local/bin'"
                (onCheck)="container.working_dir = $event"></cs-input>
      <cs-input [inputType]="1"
                [inputLabel]="'SERVICE.STEP_3_VOLUME_MOUNTS' | translate"
                [simpleFiled]="getVolumesDescription(container)"
                [inputPlaceholder]="'NA (in its next page)'"
                (onEdit)="curContainerIndex = iStep3; showVolumeMounts = true;"></cs-input>
      <cs-input [inputType]="1"
                [inputLabel]="'SERVICE.STEP_3_Env' | translate"
                [simpleFiled]="getEnvsDescription(container)"
                [inputPlaceholder]="'VERSION=1'"
                (onEdit)="curContainerIndex = iStep3;showEnvironmentValue = true;"></cs-input>
      <cs-input-array [inputArrayType]="1"
                      [inputArrayFixedSource]="fixedContainerPort.get(container.name)"
                      [inputArrayMin]="1"
                      [inputArrayMax]="65535"
                      [inputArrayLabelText]="'SERVICE.STEP_3_CONTAINER_PORT' | translate"
                      [inputArrayTipText]="'80'"
                      [inputArraySource]="container.container_port">
      </cs-input-array>
      <div class="edit-container-area">
        <label for="areaCommand" class="base-text">{{"SERVICE.STEP_3_COMMAND" | translate}}:</label>
        <textarea id="areaCommand"
                  rows="3"
                  class="area-command"
                  (keypress)="shieldEnter($event)"
                  [(ngModel)]="container.command"></textarea>
      </div>
    </div>
  </div>
  <environment-value *ngIf="showEnvironmentValue"
                     [inputEnvsData]="getDefaultEnvsData(curContainerIndex)"
                     [inputFixedKeyList]="fixedEnvKeys"
                     [(isOpen)]="showEnvironmentValue"
                     (onConfirm)="setEnvironment(curContainerIndex,$event)">
  </environment-value>
  <volume-mounts *ngIf="showVolumeMounts"
                 [volumeData]="getVolumeMountData(curContainerIndex)"
                 [(isOpen)]="showVolumeMounts"
                 (onConfirmEvent)="setVolumeMount($event,curContainerIndex)">
  </volume-mounts>
</div>
<button class="btn btn-default" (click)="cancelBuildService()">
  {{"BUTTON.CANCEL" | translate}}
</button>
<button class="btn btn-default" [disabled]="true">
  {{"BUTTON.TEST" | translate}}
</button>
<button class="btn btn-default" (click)="backStep()">
  {{"BUTTON.BACK" | translate}}
</button>
<button class="btn btn-default" [disabled]="!isCanNextStep" (click)="forward()">
  {{"BUTTON.NEXT" | translate}}
</button>