<clr-main-container>
  <header-content [isSignIn]="false" [hasSignedIn]="false"></header-content>
  <div class="content-container background">
    <confirmation-dialog></confirmation-dialog>
    <div class="content-area">
      <form #signUpForm="ngForm" (ngSubmit)="signUp()">
        <section class="form-block">
          <div class="form-group group-margin">
            <label for="txtUsername" class="required">{{ 'ACCOUNT.USERNAME' | translate }}</label>
            <label for="txtUsername"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="usernameInput.invalid && (usernameInput.dirty || usernameInput.touched)">
                <input type="text" id="txtUsername" placeholder="{{ 'ACCOUNT.INPUT_USERNAME' | translate }}"
                required checkItemExisting="username" checkItemPattern="username"
                       maxlength="40" minlength="4" name="username" [(ngModel)]="signUpModel.username" #usernameInput="ngModel" validate-onblur>
                <span class="tooltip-content" *ngIf="usernameInput.errors && usernameInput.errors.required">
                {{ 'ACCOUNT.USERNAME_IS_REQUIRED' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="usernameInput.errors && usernameInput.errors.checkItemExisting">
                {{ 'ACCOUNT.USERNAME_ALREADY_EXISTS' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="usernameInput.errors && usernameInput.errors.checkItemPattern">
                {{ 'ACCOUNT.USERNAME_ARE_NOT_IDENTICAL' | translate }}
                </span>
            </label>
          </div>
          <div class="form-group">
            <label for="txtEmail" class="required">{{ 'ACCOUNT.EMAIL' | translate }}</label>
            <label for="txtEmail"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
                <input type="email" id="txtEmail" placeholder="{{ 'ACCOUNT.INPUT_EMAIL' | translate }}"
                required checkItemExisting="email" checkItemPattern="email"
                name="email" [(ngModel)]="signUpModel.email" #emailInput="ngModel" validate-onblur>
                <span class="tooltip-content" *ngIf="emailInput.errors && emailInput.errors.required">
                {{ 'ACCOUNT.EMAIL_IS_REQUIRED' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="emailInput.errors && emailInput.errors.checkItemPattern">
                {{ 'ACCOUNT.EMAIL_IS_ILLEGAL' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="emailInput.errors && emailInput.errors.checkItemExisting">
                {{ 'ACCOUNT.EMAIL_ALREADY_EXISTS' | translate }}
                </span>
            </label>
          </div>
          <div class="form-group">
            <label for="txtPassword" class="required">{{ 'ACCOUNT.PASSWORD' | translate }}</label>
            <label for="txtPassword"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
                <input type="password" id="txtPassword" placeholder="{{ 'ACCOUNT.INPUT_PASSWORD' | translate }}"
                required checkItemPattern="password" 
                name="password" validateEqual="confirmPassword" reverse="true"
                [(ngModel)]="signUpModel.password"
                #passwordInput="ngModel" validate-onblur>
                <span class="tooltip-content" *ngIf="passwordInput.errors && passwordInput.errors.required">
                {{ 'ACCOUNT.PASSWORD_IS_REQUIRED' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="passwordInput.errors && passwordInput.errors.checkItemPattern">
                {{ 'ACCOUNT.PASSWORD_FORMAT' | translate }}
                </span>
                <span class="tooltip-content" *ngIf="passwordInput.invalid">
                {{ 'ACCOUNT.PASSWORDS_ARE_NOT_IDENTICAL' | translate }}
                </span>
            </label>
          </div>
          <div class="form-group">
            <label for="txtConfirmPassword" class="required">{{ 'ACCOUNT.CONFIRM_PASSWORD' | translate }}</label>
            <label for="txtConfirmPassword"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="confirmPasswordInput.invalid && (confirmPasswordInput.dirty || confirmPasswordInput.touched)">
                <input type="password" id="txtConfirmPassword" placeholder="{{ 'ACCOUNT.INPUT_CONFIRM_PASSWORD' | translate }}"
                required validateEqual="password" reverse="false"
                name="confirmPassword"
                [(ngModel)]="signUpModel.confirmPassword"
                #confirmPasswordInput="ngModel" validate-onblur>
                <span class="tooltip-content" *ngIf="confirmPasswordInput.errors && confirmPasswordInput.invalid">
                {{ 'ACCOUNT.PASSWORDS_ARE_NOT_IDENTICAL' | translate }}
                </span>
            </label>
          </div>
          <div class="form-group">
            <label for="txtRealname">{{ 'ACCOUNT.REALNAME' | translate }}</label>
            <label for="txtRealname"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="realnameInput.invalid && (realnameInput.dirty || realnameInput.touched)">
                <input type="text" id="txtRealname"
                name="realname"
                [(ngModel)]="signUpModel.realname"
                #realnameInput="ngModel">
            </label>
          </div>
          <div class="form-group">
            <label for="txtComment">{{ 'ACCOUNT.COMMENT' | translate }}</label>
            <label for="txtComment"
                aria-haspopup="true"
                role="tooltip"
                class="tooltip tooltip-validation tooltip-md"
                [class.invalid]="commentInput.invalid && (commentInput.dirty || commentInput.touched)">
                <input type="text" id="txtComment"
                name="comment"
                [(ngModel)]="signUpModel.comment"
                #commentInput="ngModel">
            </label>
          </div>
          <div class="form-group">
            <label for="txtNotice"></label>
            <label for="txtNotice"><span class="asterisk">*</span> {{ 'ACCOUNT.REQUIRED_ITEMS' | translate }}</label>
          </div>
          <div class="form-group">
            <label></label>
            <button type="submit" class="btn btn-primary" [disabled]="!signUpForm.valid">{{ 'ACCOUNT.SIGN_UP' | translate }}</button>&nbsp;&nbsp;
            <button type="button" class="btn btn-default" (click)="goBack()">{{ 'ACCOUNT.BACK' | translate }}</button>
          </div>
        </section>
        
      </form>     
    </div>
    <nav class="sidenav">
     <section class="sidenav-content">
       <a href="javascript:void(0)" class="nav-link active">{{ 'ACCOUNT.REGISTER' | translate }}</a>
     </section>
    </nav>
  </div>
</clr-main-container>
